#!/bin/bash
# switch gnome theme from dark to light depending on args or time of day
# theme_switcher [dark|light]

set -eu

dark() {
  echo "Setting dark"
  gnome-extensions disable light-style@gnome-shell-extensions.gcampax.github.com
  gsettings set org.gnome.desktop.interface color-scheme prefer-dark
}

light() {
  echo "Setting light"
  gnome-extensions enable light-style@gnome-shell-extensions.gcampax.github.com
  gsettings set org.gnome.desktop.interface color-scheme default
}

theme="${1:-""}"
if [[ "$theme" == "dark" ]]; then
  dark
  exit 0
elif [[ "$theme" == "light" ]]; then
  light
  exit 0
fi

# debug time for light
/home/lyr/bin/time_for_light

if [[ "$($HOME/bin/time_for_light)" == "true" ]]; then
	light
else
	dark
fi
